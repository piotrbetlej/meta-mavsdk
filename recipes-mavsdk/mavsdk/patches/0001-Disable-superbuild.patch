From b37991be2dabc1d32e9a3a93508dc77d3356d6f0 Mon Sep 17 00:00:00 2001
From: Piotr Betlej <piotr.betlej@googlemail.com>
Date: Fri, 7 Nov 2025 16:03:59 +0100
Subject: [PATCH] Disable superbuild

---
 CMakeLists.txt             | 4 ++--
 third_party/CMakeLists.txt | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 016e14762..02eecbd73 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,7 +1,7 @@
 cmake_minimum_required(VERSION 3.22.1)
 
-option(SUPERBUILD "Build dependencies" ON)
-option(BUILD_MAVSDK_SERVER "Build mavsdk_server" OFF)
+option(SUPERBUILD "Build dependencies" OFF)
+option(BUILD_MAVSDK_SERVER "Build mavsdk_server" ON)
 option(BUILD_WITH_PROTO_REFLECTION "Build mavsdk_server with proto reflection" OFF)
 option(BUILD_SHARED_LIBS "Build core as shared libraries instead of static ones" ON)
 option(MAVLINK_DIALECT "MAVLink dialect. Default: common" "common")
diff --git a/third_party/CMakeLists.txt b/third_party/CMakeLists.txt
index 622039703..b286b797a 100644
--- a/third_party/CMakeLists.txt
+++ b/third_party/CMakeLists.txt
@@ -54,9 +54,9 @@ if(SUPERBUILD)
         build_target(gtest)
     endif()
 
+    build_target(libevents)
 endif()
 
-build_target(libevents)
 
 if(ENABLE_CPPTRACE)
     build_target(cpptrace)
-- 
2.25.1

